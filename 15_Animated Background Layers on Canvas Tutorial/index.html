<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body{ background:#333; }
        #canvas_container{ width:1000px; margin: 20px auto; }
        /* #my_canvas{ background:#FFF; border:#999 1px solid; } */
    </style>

     <script>

        let bg = new Image();
        bg.src = '../images/starsBg1500.png'

        function initCanvas(){

            let ctx = document.getElementById('my_canvas').getContext('2d');
            let cW = ctx.canvas.width, cH = ctx.canvas.height;

            function Background(){
                this.x = 0, this.y = 0, this.w = bg.width, this.h = bg.height;
                this.render = function(){
                    ctx.drawImage(bg, this.x--, 0);
                    if(this.x <= -499){
                        this.x = 0;
                    }
                }
            }

            let background = new Background();
 
            function animate(){
                ctx.save();
                ctx.clearRect(0,0,cW,cH); 
                // Draw Here
                background.render();
                ctx.fillStyle = 'orange';
                ctx.fillRect(100,100,50,50);
                ctx.restore();
            }

            let animateInterval = setInterval(animate, 30);
            // ctx.canvas.addEventListener('click', function(event){
            //     clearInterval(animateInterval);
            // })

        }

        window.addEventListener('load', function(event){
            initCanvas();
        })
 
    </script>

    <title>Animated Background Layers on Canvas Tutorial</title>
</head>
<body>
    <div id="canvas_container">
        <canvas id="my_canvas" width="1000" height="500"></canvas>
    </div>
</body>
</html>

